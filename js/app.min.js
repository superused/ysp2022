location.href.indexOf("#")<0?AOS.init({duration:800,easing:"slide",once:!0}):AOS.init({disable:!0}),$(function(){"use strict";function t(){this.siteMenuClone(),this.siteCarousel(),this.siteStellar(),this.initTopView(),this.senryuView(),this.photoView(),this.contestVote(),this.imageFull(),this.footerBanner(),this.moveRecaptcha(),this.senryu100Data(),this.photo100Data(),this.slideShow(),this.liveTimeSchedule()}t.prototype={siteMenuClone:function(){$(".js-clone-nav").each(function(){const t=$(this);t.clone().attr("class","site-nav-wrap").prependTo(".site-mobile-menu-body")}),setTimeout(function(){let o=0;$(".site-mobile-menu .has-children").each(function(){const t=$(this);t.prepend('<span class="arrow-collapse collapsed">'),t.find(".arrow-collapse").attr({"data-toggle":"collapse","data-target":"#collapseItem"+o}).css({display:"none"}),t.find("> ul").attr({class:"collapse show",id:"collapseItem"+o}),o++})},1e3),$("body").on("click",".site-mobile-menu .inpage-link",function(){$("body").hasClass("offcanvas-menu")&&$("body").removeClass("offcanvas-menu")}),$("body").on("click","li.has-children a",function(){const t=$(this);t.closest("li").find(".arrow-collapse").click()}),$(window).resize(function(){const t=$(this),o=t.width();768<o&&$("body").hasClass("offcanvas-menu")&&$("body").removeClass("offcanvas-menu")}),$("body").on("click",".js-menu-toggle",function(t){const o=$(this);t.preventDefault(),$("body").hasClass("offcanvas-menu")?($("body").removeClass("offcanvas-menu"),o.removeClass("active")):($("body").addClass("offcanvas-menu"),o.addClass("active"))}),$(document).on("mouseup","html",function(t){const o=$(".site-mobile-menu");o.is(t.target)||0!==o.has(t.target).length||$("body").hasClass("offcanvas-menu")&&$("body").removeClass("offcanvas-menu")}),$(document).on("click","a[href*=#]:not([href=#])",function(){AOS.init({disable:!0});var t=-$(".site-navbar").height();const o=$(this).attr("href"),e=$("#"==o||""==o?"html":"#"+o.split("#").pop());if(e[0]){t=e.offset().top+t;return $("body,html").animate({scrollTop:t},1e3,"swing"),!1}return!0})},siteCarousel:function(){const o=$(".owl-carousel");if(0<o.length){let t={768:{items:2},992:{items:3},1200:{items:4}};o.hasClass("short")&&(t[768]={items:1.5},t[992]={items:1.5},t[1200]={items:2}),o.owlCarousel({center:!0,items:1.5,itemsScaleUp:!1,loop:!0,margin:0,nav:!1,dots:!1,responsive:t}),$(".custom-btn.prev").click(function(){o.trigger("prev.owl.carousel")}),$(".custom-btn.next").click(function(){o.trigger("next.owl.carousel")}),setTimeout(function(){function s(){let n;const t=$(".owl-item img");t.each(function(){var t=$(this).height();(!n||n>t)&&(n=t)}),t.each(function(){const t=$(this),o=t.width(),e=t.height();t.width(o*n/e).height(n)})}s();let a=0;$(window).resize(function(){a++;const o=$(".owl-item:first").width();let e=0;function i(t){setTimeout(function(){if(e++,e<100&&t==a){const n=$(".owl-item:first").width();o==n?i(t):($(".owl-item img").each(function(){const t=$(this),o=t.width(),e=t.height();t.width(n).height(e*n/o)}),s())}},100)}i(a)})})}},siteStellar:function(){$(window).stellar({responsive:!0,parallaxBackgrounds:!0,parallaxElements:!0,horizontalScrolling:!1,hideDistantElements:!1,scrollProperty:"scroll"})},initTopView:function(){if($(".site-blocks-cover.overlay.top")[0]){const u=[["top_mobile1_s.jpg","top_mobile2_s.jpg","top_mobile3_s.jpg"],"moyou_top.png","moyou_bottom.png"],f=[["top_pc1.jpg","top_pc2.jpg","top_pc3.jpg"],"moyou_tb_top.png","moyou_tb_bottom.png"],p=[["top_pc1.jpg","top_pc2.jpg","top_pc3.jpg"],"moyou_pc_top.png","moyou_pc_bottom.png"],m=[$(".site-blocks-cover.overlay.bg"),$(".site-blocks-cover.overlay.top2"),$(".site-blocks-cover.overlay.top3")];let r=[],d=1,h=null;const g=function(){const t=$(this);t.closest(".logo_bg").css("height",t.height())};var t=function(){const t=$(window),o=t.width(),e=t.height(),n=e/o,i=$(".site-blocks-cover.overlay.top");$(".logo_bg img").each(g);let s=1,a=!1;if(.67<=n&&n<=1.33?(r.length&&2==d||(a=!0),d=2,i.height(s>n?o*s:e)):o<e?(r.length&&1==d||(a=!0),d=1,s=1.5,i.height(s>n?e:o*s)):(r.length&&3==d||(a=!0),d=3,s=2560/3840,i.height(s>n?o*s:e)),i.find(".container .row").css("margin-top",.35*e+"px"),a){r=1==d?u:2==d?f:p;let i;for(const c in r){let t=r[c];Array.isArray(t)&&(i=Math.floor(Math.random()*t.length),t=t[i]);const l=m[c].css("background-image").split('"');l[1]=l[1].split("/").slice(0,-1).concat(t).join("/"),m[c].css("background-image",l.join('"'))}h&&(clearInterval(h),h=null),h=setInterval(function(){i=i==r[0].length-1?0:i+1;const t=r[0][i],o=$(".site-blocks-cover.overlay.bg").last(),e=o.css("background-image").split('"'),n=o.css("opacity",1).clone();o.after(n),e[1]=e[1].split("/").slice(0,-1).concat(t).join("/"),n.css("background-image",e.join('"')).hide(),n.show("fade",{},2e3,function(){$(".site-blocks-cover.overlay.bg").first().remove()})},8e3)}};$(window).on("resize",t),t();const e=500;e;!function(){for(const t in m)m[t].addClass("show");setTimeout(function(){$(".top2").show("fade",{},e),$("#logo_1").show("blind",{direction:"horizontal"},e,g),setTimeout(function(){$(".top3").show("fade",{},e),$("#logo_3,#logo_4").show("blind",{direction:"horizontal"},e,g)},e),$("#logo_2").show("fade",{},1e3,g)},2500)}()}else{const n=$(".site-mobile-menu").next();var o,t=$(".site-navbar").height();n.css("padding-top",t+"px").show();const i=$("#adjust-live-detail");i[0]&&(o=function(){i.css("padding-top",$(".site-section.live-detail").outerHeight()+"px")},$(window).resize(o),o());const s=$(".other-live");s[0]&&(o=function(){768<=$(window).outerWidth()?s.css("height",$(".site-section.live-detail").outerHeight()+"px"):s.css("height","")},$(window).resize(o),o())}},contestView:function(){const t=$("#fixed-menu");if(!$("#modal")[0]||!$("#fixed-menu-move")[0])return!1;var o=t.clone();return t.remove(),$("#fixed-menu-move").html(o),!0},senryuView:function(){if(!$(".kakejiku_button")[0])return!1;this.contestView(),$(".kakejiku .detail").click(function(){const t=$(this).parents("[data-type=content-block]"),o=t.find("button.vote"),e=$("#modal");var n=[".kakejiku_inner",".kakejiku_episode",".kakejiku_name"];for(const a in n){var i=n[a];e.find(i).html(t.find(i).html())}const s=e.find("button.vote");s.attr("data-vote",o.data("vote")),o.prop("disabled")?s.prop("disabled",!0).html("投票"==o.text()?"投票":"投票済"):s.prop("disabled",!1).html("投票"),e.find("#index").val($(".kakejiku button.detail").index(t.find("button.detail")))})},photoView:function(){if(!$(".photo_button")[0])return!1;this.contestView();function c(t){e.each(function(){$(this).find("[data-action]").each(function(){$(this).removeClass("show").removeAttr("data-ranking-target").find("img").attr("src","")})}),t&&t>=o&&t<=n&&(t!=o&&s(t-1,!0),t!=n&&s(t+1))}function l(t){var o=[".photo_title",".photo_name",".photo_image",".photo_episode",".ranking"];for(const i in o){var e,n=o[i];const s=r.find(n),a=t.find(n);s[0]&&a[0]&&(".ranking"==n?(e=a.attr("data-ranking"))&&s.html(e):".photo_image"==n?(n=a.attr("src"))?s.attr("src",n):s.attr("src",a.html()):s.html(a.html()))}}const r=$("#modal"),e=r.find("[data-type=fixbox]"),o=11,n=70,i=function(t,o){return void 0===o&&(o=!1),$("[data-ranking="+t+"]").closest("[data-type=content-block]").find(o?".photo_thumbnail":".photo_image").attr("src")},s=function(t,o){void 0===o&&(o=!1),e.each(function(){$(this).find("[data-action="+(o?"prev":"next")+"]").addClass("show").attr("data-ranking-target",t).find("img").attr("src",i(t,!0))})};$(document).on("click","[data-type=content-block] [data-toggle=modal]",function(){const t=$(this),o=t.parents("[data-type=content-block]"),e=o.find("button.vote");l(o);const n=t.closest(".photo-100-data"),i=o.find("[data-ranking]");var s;n[0]&&i[0]&&(s=parseInt(i.attr("data-ranking")),c(s));const a=r.find("button.vote");a[0]&&(a.attr("data-vote",e.attr("data-vote")),e.prop("disabled")?a.prop("disabled",!0).html("投票済"):a.prop("disabled",!1).html("投票"))}),$(document).on("click","[data-ranking-target]",function(){const t=$(this),o=parseInt(t.attr("data-ranking-target")),e=$("[data-ranking="+o+"]").closest("[data-type=content-block]");return e[0]&&(l(e),c(o)),!1})},contestVote:function(){const i=$("#tohyo");if(i[0]&&$("button.vote")[0]){let e=!1;$("button.vote").each(function(){var t=$(this).attr("data-vote");const o=i.find("div.wp-polls#polls-"+t);o[0]&&o.find("input[type=button][name=vote]")[0]?e=!0:i[0]?$(this).prop("disabled",!0).text("投票済"):$(this).prop("disabled",!0).text("投票")}),e&&$("button.vote").on("click",function(t){const o=$(this).attr("data-vote"),e=i.find("div.wp-polls#polls-"+o),n=e.find("input[type=radio]").first();return n[0]&&(n.prop("checked",!0),e.find("input[type=button][name=vote]").click(),$("button.vote[data-vote="+o+"]").each(function(){const t=$(this);t.prop("disabled",!0).text("投票済");const o=t.closest("[data-type=content-block]");if(o[0]){const e=o.find(".vote_num");parseInt(e.html())}})),!1})}},imageFull:function(){const o=$(".site-navbar"),e=$(".top-image.full .top-full-image");var t;e[0]&&(t=function(){const t=$(window);t.outerWidth()<768?(e.outerWidth(t.outerWidth()),e.height(t.height()-o.height())):e.css({width:"",height:""})},$(window).on("resize",t),t())},footerBanner:function(){const t=$(".footer-banner .close-btn");t[0]&&t.on("click",function(){$(".footer-banner").hide()})},projectBuruburu:function(){function t(t,o){let e;if(t.endsWith("#project")?e=$("#project"):t.endsWith("#live")?e=$("#live"):t.endsWith("#contest")?e=$("#contest"):t.endsWith("#contents-list")?e=$("#contents-list"):t.endsWith("#senryu")?e=$("#senryu"):t.endsWith("#photo")?e=$("#photo"):t.endsWith("#movie")&&(e=$("#movie")),e&&e[0]){const n=$(".site-navbar").height();e.offset().top;e.removeAttr("data-aos data-aos-delay").removeClass("aos-unit aos-animate"),setTimeout(function(){const t=e;parseInt($(window).scrollTop());var o=parseInt(t.offset().top);$("body").css("overflow","hidden"),$(window).scrollTop(o-n),t.addClass("buruburu"),setTimeout(function(){t.removeClass("buruburu"),$("body").css("overflow","")},700)},o)}}$(document).on("click","[href$=#project], [href$=#live], [href$=#contest], [href$=#contents-list], [href$=#senryu], [href$=#photo], [href$=#movie]",function(){t($(this).attr("href"),0)}),$(document).ready(function(){setTimeout(function(){t(location.href,0)},300)})},adjustRecaptcha:function(){const t=$(".grecaptcha-badge"),o=$(".fixed-menu"),e=$(".fixed-button-content").last();t[0]&&(t.css("visibility","visible"),"none"!==o.css("display")?t.css("bottom",e.height()+30+"px"):t.css("bottom","14px"))},moveRecaptcha:function(){$(".contact-form")[0]&&$(".sidebar")[0]&&($(window).resize(this.adjustRecaptcha),setTimeout(this.adjustRecaptcha,700))},senryu100Data:function(){const i=$(".senryu-100-data"),t=$(".json-data");if(i[0]&&t[0]){let e=0,n=0;const s=i.parent(),a=JSON.parse(t.html());var o=function(){for(const t in a){if(10<=n)break;if(0==e||t==e+1){const o=i.first().clone().removeClass("d-none");o.find(".ranking").html(t),o.find(".senryu").html(a[t][0]),o.find(".senryu-name").html(a[t][1]+" ("+a[t][2]+")"),s.append(o),e=parseInt(t),n++}}n=0,100<=e&&$("#add-ranking").remove()};$(document).on("click","#add-ranking",o),o()}},photo100Data:function(){const a=$(".photo-100-data"),t=$(".json-data");if(a[0]&&t[0]){let i=0,s=0;const c=a.parent(),l=JSON.parse(t.html());!function(){for(const e in l){if(70<=s)break;if(0==i||e==i+1){const n=a.first().clone().removeClass("d-none");n.find(".ranking").attr("data-ranking",e),n.find(".photo_image").html(l[e][0]);let t=l[e][0].split(".");var o="-150x150."+t.pop();n.find(".photo_thumbnail").attr("src",t.join(".")+o),n.find(".photo_title").html(l[e][1]),n.find(".photo_name").html(l[e][2]),n.find(".photo_episode").html(l[e][3]),c.append(n),i=parseInt(e),s++}}s=0}()}},slideShow:function(){const t=$(".slide-show");if(t[0]){const n=t.find(".slide-image");let e=Math.floor(Math.random()*n.length);n.eq(e).show();setInterval(function(){const t=n.eq(e);e=e==n.length-1?0:e+1;const o=n.eq(e);t.css("z-index",0),o.css("z-index",1),o.show("fade",{},2e3,function(){t.css("display","")})},8e3)}},liveTimeSchedule:function(){let o="20210807";var t=this.getToday8num();"20210808"==t?o="20210808":"20210809"==t&&(o="20210809");t=function(){$(this)[0]&&(o=$(this).attr("data-date")),$("[data-date]").each(function(){var t=$(this);t.attr("data-date")==o?"BUTTON"==t.prop("tagName")?t.addClass("active"):t.show():"BUTTON"==t.prop("tagName")?t.removeClass("active"):t.parents(".live-detail-timetable")[0]?t.show():t.hide()})};$(document).on("click","button[data-date]",t),t()},getToday8num:function(){const t=new Date;return parseInt(t.getFullYear()+("0"+(t.getMonth()+1)).slice(-2)+("0"+t.getDate()).slice(-2))}};new t});
